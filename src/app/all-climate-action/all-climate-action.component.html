<div class="container pl-20 pr-20">
  <h4 class="mt-4">Accepted Specific Climate Actions</h4>
  <div class="p-grid p-fluid card">

    <div class="row mb-3">
      <div class="col-md-4">
        <div class="col-12">
          <div class="p-field">
            <label for="projApprovelStatus">Status of Approval</label>
            <p-dropdown name="projApprovelStatus" [(ngModel)]="searchBy.ApprovalStatus"
              [options]="projectApprovalStatus" #projStatus="ngModel" [showClear]="true" [filter]="true"
              placeholder="Select .." optionLabel="name" (ngModelChange)="onStatusChange($event)">
            </p-dropdown>

          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="p-field">
          <label for="projStatus">Implementation status</label>
          <p-dropdown name="projStatus" [(ngModel)]="searchBy.status" [options]="projectStatusList"
            #projStatus="ngModel" [showClear]="true" [filter]="true" placeholder="Select .." optionLabel="name"
            (ngModelChange)="onStatusChange($event)">
          </p-dropdown>
        </div>
      </div>
      <div class="col-md-4">
        <div class="p-inputgroup pt-4">
          <input placeholder="Type Your Keyword" [(ngModel)]="searchBy.text" #nameClimate="ngModel" type="text"
            name="nameClimate" class="p-inputtext" pInputText />
          <button type="button" pButton pRipple label="Search" (click)="onSearch()"></button>
        </div>
      </div>
    </div>


    <!-- <div> {{climateactions|json}} </div> -->
    <div class="row p-2">
      <p-table 
      [value]="climateactions" [lazy]="true" 
      (onLazyLoad)="loadgridData($event)" 
      [paginator]="true"
      paginatorDropdownAppendTo="body"
        [rows]="rows" 
        [showCurrentPageReport]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} Entries"
        [rowsPerPageOptions]="[1, 10, 25, 50]" 
        [totalRecords]="totalRecords" 
        [loading]="loading" 
        [responsive]="true">


        <ng-template pTemplate="header">

          <tr>
            <!-- <th>
              <div class="col-sm-2" style="width: 70.666667%">
                <button
                  pRipple
                  class="fas fa-plus"
                  pButton
                  type="button"
                  style="background-color: #c6cfd7; border-color: transparent"
                  (click)="addproject()"
                >
                  <i
                    class="pi pi-plus"
                    style="font-size: 1rem; color: #000"
                  ></i>
                </button>
              </div>
            </th> -->
            <th></th>
            <th>
                <div class="col-sm-2" style="width: 70.666667%">
                  
                </div>
            </th> 
        
            <th>Specific Climate Action</th>
            <th>Implementation Status</th>
            <th>Proponent</th>
            <th>Approval Status</th>
            <th>Proposed Date</th>   
            <!-- <th>Accepted Date</th> -->
            <th>Updated Date</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-climateaction>
         
        

            <tr>
              <td></td>
              <td style="text-align: center"> 
               
                 
                  <i
                  class="pi pi-eye"
                  style="font-size: 1.5rem; color: #000; margin-left: 17%"
                  (click)="detail(climateaction)"
                ></i>
                
                
              </td>
                <td>{{ climateaction.climateActionName }}</td>
                <td>{{ climateaction.projectStatus?.name }}</td> 
                <td>{{ climateaction.institution }}</td> 
                <td>{{ climateaction.projectApprovalStatus?.name }}</td> 
                <td>{{ climateaction.createdOn | date: "yyyy-MM-dd "}}</td> 
                <!-- <td>{{ climateaction.acceptedDate | date: "yyyy-MM-dd "}}</td>  -->
                <td>{{ climateaction.editedOn | date: "yyyy-MM-dd "}}</td> 
            </tr>
         
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
